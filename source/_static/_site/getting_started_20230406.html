<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="Renesas RZ/V AI | The best solution for starting your AI applications." name="title">
    <meta name="keywords" content="rzv,ai application,ai app,edge ai,vision ai, aritificial intelligence">
    <meta name="description" content="Renesas Electronics provides AI Applications for Pre-trained AI model on RZ/V and AI SDK for application development.">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JRL1VWTZC1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-JRL1VWTZC1');
    </script>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Renesas RZ/V AI | The best solution for starting your AI applications.</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Renesas RZ/V AI" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The best solution for starting your AI applications." />
<meta property="og:description" content="The best solution for starting your AI applications." />
<link rel="canonical" href="http://0.0.0.0:4000/getting_started_20230406.html" />
<meta property="og:url" content="http://0.0.0.0:4000/getting_started_20230406.html" />
<meta property="og:site_name" content="Renesas RZ/V AI" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Renesas RZ/V AI" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"The best solution for starting your AI applications.","headline":"Renesas RZ/V AI","url":"http://0.0.0.0:4000/getting_started_20230406.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=eaf6b3b3ce9c6899dd5bd495bedff59d4881bed8">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="wrapper">
      <header>
        <!-- <h1><a href="http://0.0.0.0:4000/">Renesas RZ/V AI</a></h1> -->

        <h1><a href="http://0.0.0.0:4000/">Renesas <br class="br-sp">RZ/V AI</a></h1>

        

        <!-- <p>The best solution for starting your AI applications.</p> -->
        <p>The best solution for <br class="br-sp">starting your AI applications.</p>
        <p class="small">Provided by Renesas Electronics Corporation</p>
        
        <p class="view"><a href="https://github.com/wk-mnA/public_page">View the Project on GitHub <small>wk-mnA/public_page</small></a></p>
        

        

        
        <div class="container">
          <div class="row">
            <div class="downloads col-6 col-md-12 col-xl-6" style="text-align: center">
              <img src="img/board.png" alt="board" height="90px" />
              <ul class="downloads">
                <li><a href="https://www.renesas.com/products/microcontrollers-microprocessors/rz-mpus/rzv2l-evkit-rzv2l-evaluation-board-kit">Get<br>the Board</a></li>
              </ul>
            </div>
            <div class="downloads col-6 col-md-12 col-xl-6" style="text-align: center">
              <img src="img/ai_sdk.png" alt="ai_sdk" height="90px" />
              <ul class="downloads">
                <li><a href="https://www.renesas.com/software-tool/rzv2l-ai-software-development-kit">Get<br>AI SDK</a></li>
              </ul>
            </div>
          </div>
        </div>
        

      <div class="web_index">
        <details open>
          <summary>
            <a href="http://0.0.0.0:4000/">Getting Started</a>
          </summary>
          <ul class="index">
            <li><a href="http://0.0.0.0:4000/getting_started.html#step1">1. Obtain an board</a></li>
            <li><a href="http://0.0.0.0:4000/getting_started.html#step2">2. Obtain Necessary Environment</a></li>
            <li><a href="http://0.0.0.0:4000/getting_started.html#step3">3. Obtain RZ/V2L AI SDK</a></li>
            <li><a href="http://0.0.0.0:4000/getting_started.html#step4">4. Extract RZ/V2L AI SDK</a></li>
            <li><a href="http://0.0.0.0:4000/getting_started.html#step5">5. Setup RZ/V2L AI SDK</a></li>
            <li><a href="http://0.0.0.0:4000/getting_started.html#step6">6. Build AI Application</a></li>
            <li><a href="http://0.0.0.0:4000/getting_started.html#step7">7. Setup the Board</a></li>
            <li><a href="http://0.0.0.0:4000/getting_started.html#step8">8. Deploy AI Application</a></li>
            <li><a href="http://0.0.0.0:4000/getting_started.html#step9">9. Boot the Board</a></li>
            <li><a href="http://0.0.0.0:4000/getting_started.html#step10">10. Run AI Application</a></li>
            <li><a href="http://0.0.0.0:4000/getting_started.html#step11">11. Shutdown the Board</a></li>
            <details>
              <summary>
                <a href="http://0.0.0.0:4000/appendix.html">Appendix</a>
              </summary>
                <ul class="index">
                  <li>
                    <a href="http://0.0.0.0:4000/appendix.html#bootloader">A1. Write bootloaders</a>
                  </li>
                  <li>
                    <a href="http://0.0.0.0:4000/appendix.html#partition">A2. Format SD card</a>
                  </li>
                  <li>
                    <a href="http://0.0.0.0:4000/appendix.html#boot">A3. Boot with PC</a>
                  </li>
                </ul>
              </details>
          </ul>
        </details>

<!-- Copy index_list.html start -->
        <details open>
          <summary>
            <a href="http://0.0.0.0:4000/#ai-applications">AI Applications</a>
          </summary>
          <ul class="index">
                <details open>
              <summary>
                <a href="http://0.0.0.0:4000/applications.html#agriculture">Agriculture</a>
              </summary>
              <ul class="index">
                    <li><a href="http://0.0.0.0:4000/applications.html#agriculture1">Defense wild animals for crop</a></li>
              </ul>
            </details>
            <details open>
              <summary>
                <a href="http://0.0.0.0:4000/applications.html#building">Smart Building</a>
              </summary>
              <ul class="index">
                    <li><a href="http://0.0.0.0:4000/applications.html#building1">Elevator passengers Counting</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#building2">Conference Room Usage Monitor</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#building3">Lighting Control</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#building4">Security Area Intrusion Detection</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#building5">Wear management at construction sites</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#building6">Touchless Controller for elevator</a></li>
              </ul>
            </details>
            <details open>
              <summary>
                <a href="http://0.0.0.0:4000/applications.html#city">Smart City</a>
              </summary>
              <ul class="index">
                    <li><a href="http://0.0.0.0:4000/applications.html#city1">Congestion Detection in Railway Station</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#city2">Prohibited Area Management</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#city3">Doze detection</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#city4">Parking Spot Reservation</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#city5">Passport check support</a></li>
              </ul>
            </details>
            <details open>
              <summary>
                <a href="http://0.0.0.0:4000/applications.html#healthcare">Healthcare</a>
              </summary>
              <ul class="index">
                    <li><a href="http://0.0.0.0:4000/applications.html#healthcare1">Physical Condition Monitor</a></li>
              </ul>
            </details>
            <details open>
              <summary>
                <a href="http://0.0.0.0:4000/applications.html#home">Smart Home</a>
              </summary>
              <ul class="index">
                    <li><a href="http://0.0.0.0:4000/applications.html#home1">Air Conditioner Control</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#home2">Pet Detection in Kitchen and Child's Room</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#home3">Touchless Controller for Kitchen Appliance</a></li>
              </ul>
            </details>
            <details open>
              <summary>
                <a href="http://0.0.0.0:4000/applications.html#industrial">Industrial</a>
              </summary>
              <ul class="index">
                    <li><a href="http://0.0.0.0:4000/applications.html#industrial1">Work Area Personnel Management</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#industrial2">Helmet and safety vest wearing monitor</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#industrial3">Touchless Controller for Industrial machine</a></li>
              </ul>
            </details>
            <details open>
              <summary>
                <a href="http://0.0.0.0:4000/applications.html#retail">Retail</a>
              </summary>
              <ul class="index">
                    <li><a href="http://0.0.0.0:4000/applications.html#retail1">Congestion Detection</a></li>
                    <li><a href="http://0.0.0.0:4000/applications.html#retail2">Staying and flow line monitoring</a></li>
              </ul>
            </details>

          </ul>
        </details>
    
    
<!-- Copy index_list.html end -->
        <details open>
          <summary>
            <a href="http://0.0.0.0:4000/#demo">Demo</a>
          </summary>
        </details>
        </div>
        <br>
        <br>
        <div>
          
          <p>This project is maintained by <a href="https://github.com/wk-mnA">wk-mnA</a></p>
          
          <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
        </div>
      </header>
      <section>

      <div class="container">
    <div class="row">
        <div class="top col-12">
Getting Started
        </div>
    </div>
</div>
<p><br />
<br />
This page explains how to start-up the RZ/V2L AI SDK.</p>

<p><a href="https://www.renesas.com/products/microcontrollers-microprocessors/rz-mpus/rzv-embedded-ai-mpus">Learn more about the RZ/V series.</a></p>

<h3 id="step1">Step 1: Obtain an evaluation board</h3>
<div class="container">
    <div class="row">
        <div class="col-6">
The RZ/V2L Evaluation Board Kit (EVK) is the ideal board kit for RZ/V2L evaluation. 
<br /><br />
Since MIPI camera module is included, you can start evaluating RZ/V2L immediately by building an environment according to the following procedure.  
<br /><br />
<a class="btn btn-primary" href="https://www.renesas.com/products/microcontrollers-microprocessors/rz-mpus/rzv2l-evkit-rzv2l-evaluation-board-kit" role="button">Get RZ/V2L EVK</a>
        </div>
        <div class="col-6">
            <img src="img/board.png" alt="board" /><br />
        </div>
    </div>
</div>
<p><br /></p>

<h3 id="step2">Step 2: Obtain necessary equipments</h3>
<p>In addition to the RZ/V2L Evaluation Board Kit, please prepare the following equipments.<br />
Note that Serial to MicroUSB Cable and MIPI Camera Module (Google Coral camera) is included in RZ/V2L Evaluation Board Kit.</p>
<table>
    <tr>
      <th>Equipment</th>
      <th>Details</th>
    </tr>
    <tr>
      <td>HDMI Monitor</td>
      <td>Used to display the graphics</td>
    </tr>
    <tr>
      <td>AC adapter</td>
      <td>Power supply to the board</td>
    </tr>
    <tr>
      <td>USB Cable Type-C</td>
      <td>Connect AC adapter and the board</td>
    </tr>
    <tr>
      <td>microSD card</td>
      <td>Must have over 4GB capacity of blank space.<br />Operating Environment: Transcend USH-I microSD 300S 16GB</td>
    </tr>
    <tr>
      <td>Linux PC</td>
      <td>Used for Setup microSD card and DRP-AI TVM Setup.<br />
      <b>Note: Docker must be installed. </b><br />
      For installation, see [https://docs.docker.com/](https://docs.docker.com/)<br />
      Operating Environment: Ubuntu 20.04</td>
    </tr>
    <tr>
      <td>SD card reader</td>
      <td>Used for setting up microSD card<br /></td>
    </tr>
    <tr>
      <td>PC</td>
      <td>Used for the serial communication console<br />
      Operating Environment : Windows 10</td>
    </tr>
    <tr>
      <td>USB Hub</td>
      <td><b>Optional.</b> Used only when booting on HDMI monitor.</td>
    </tr>
    <tr>
      <td>USB Keyboard</td>
      <td><b>Optional.</b> Used only when booting on HDMI monitor.</td>
    </tr>
    <tr>
      <td>USB Mouse</td>
      <td><b>Optional.</b> Used only when booting on HDMI monitor.</td>
    </tr>
  </table>

<p><br /></p>

<h3 id="step3">Step 3: Obtain RZ/V2L AI SDK</h3>
<p>Download the RZ/V2L AI SDK from the link below.<br /><br />
<a class="btn btn-primary" href="https://www.renesas.com/products/microcontrollers-microprocessors/rz-mpus/rzv-embedded-ai-mpus" role="button">Download Link</a>
<br /><br /></p>

<h3 id="step4">Step 4: Extract RZ/V2L AI SDK package</h3>
<ol>
  <li>On your Linux PC, make the working directory.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> ai_sdk_work
</code></pre></div>    </div>
  </li>
  <li>Register the working directory path to an environment variable.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">WORK</span><span class="o">=</span>&lt;path to the working directory&gt;/ai_sdk_work
</code></pre></div>    </div>
  </li>
  <li>Move to the working directory.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="k">${</span><span class="nv">WORK</span><span class="k">}</span>
</code></pre></div>    </div>
  </li>
  <li>Extract RZ/V2L AI SDK zip file under the working directory.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar </span>xvzf &lt;Path to the file&gt;/RZV2L_AI_SDK_1st_20230131.tar.gz <span class="nt">-C</span> <span class="k">${</span><span class="nv">WORK</span><span class="k">}</span>
</code></pre></div>    </div>
  </li>
  <li>Check the working directory to confirm the package contents.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="k">${</span><span class="nv">WORK</span><span class="k">}</span>
</code></pre></div>    </div>
    <ul>
      <li>If the above command prints followings, the package is extracted correctly.
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>board_setup  ai_sdk_setup  document
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ol>

<h3 id="step5">Step 5: Setup RZ/V2L AI SDK</h3>
<ol>
  <li>
    <p><a href="https://docs.docker.com/">Install Docker</a> on your Linux PC.</p>
  </li>
  <li>On your Linux PC, move to the working directory.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="k">${</span><span class="nv">WORK</span><span class="k">}</span>/ai_sdk_setup
</code></pre></div>    </div>
  </li>
  <li>Build docker image.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">-t</span> rzv2l_ai_sdk_image <span class="nt">--build-arg</span> <span class="nv">SDK</span><span class="o">=</span><span class="s2">"/opt/poky/3.1.17"</span> <span class="nt">--build-arg</span> <span class="nv">PRODUCT</span><span class="o">=</span><span class="s2">"V2L"</span> <span class="nb">.</span>
</code></pre></div>    </div>
  </li>
  <li>Create new directory to be mounted on Docker container.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="k">${</span><span class="nv">WORK</span><span class="k">}</span>/ai_sdk_setup/data
</code></pre></div>    </div>
  </li>
  <li>Create docker container. <br />Here, <code class="language-plaintext highlighter-rouge">rzv2l_ai_sdk_container</code> is a name of docker container, which can be changed by user.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -it --name rzv2l_ai_sdk_container -v $(pwd)/data:/drp-ai_tvm/data rzv2l_ai_sdk_image
</code></pre></div>    </div>
    <p>The local <code class="language-plaintext highlighter-rouge">$(pwd)/data</code> is mounted to <code class="language-plaintext highlighter-rouge">/drp-ai_tvm/data</code> on the Docker container by the above command option.<br />
For example, you can use this directory to copy files created on the Docker container to your local environment.<br /><br />
  <img src="img/docker_mount.jpg" alt="docker" width="90%" /><br /></p>
  </li>
  <li>In docker container, run the following command to copy <code class="language-plaintext highlighter-rouge">libtvm_runtime.so</code>, which is the necessary file for the baord, to host machine.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cp /drp-ai_tvm/obj/build_runtime/V2L/libtvm_runtime.so /drp-ai_tvm/data
</code></pre></div>    </div>
  </li>
  <li>To exit docker, run following commands.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>exit
</code></pre></div>    </div>
  </li>
  <li>To start the docker container <code class="language-plaintext highlighter-rouge">rzv2l_ai_sdk_container</code> again, run the following command.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start -i rzv2l_ai_sdk_container
</code></pre></div>    </div>
  </li>
</ol>

<p><br />
Now, you are ready to build the AI applications!
<br /></p>

<h3 id="step6">Step 6: Build RZ/V2L AI Application</h3>
<p>This step explains how to build AI application.<br />
AI Applications are provided in the GitHub repository.<br />
To access the application, please see <a href="http://0.0.0.0:4000/#ai-applications">AI Applications</a>.<br /></p>

<p>Application directory has the following structure.</p>
<table>
    <tr>
      <th>Directory</th>
      <th>Details</th>
    </tr>
    <tr>
      <td>exe</td>
      <td>Execution environment required when running application on the board.</td>
    </tr>
    <tr>
      <td>src</td>
      <td>Application Source Code.</td>
    </tr>
    <tr>
      <td>Other directory</td>
      <td>Optional: Extra files that may be required other than above.</td>
    </tr>
    <tr>
      <td>Makefile</td>
      <td>Optional: Configuration to build the application.<br />It may be included in the src directory.</td>
    </tr>
    <tr>
      <td>README.md</td>
      <td>Optional: Documentation of the application.</td>
    </tr>
  </table>

<p>There are <strong>two ways</strong> to build the applications.<br /></p>
<blockquote>
  <p>Note: This step is for users who would like to build the application from the source code.<br />
If you would like to run the application as quickly as possible, you can <strong><a href="#step7">skip this step</a></strong> since pre-build application binary is provided.<br /></p>
</blockquote>

<h5 id="build-option1">Option 1. Application with instruction.</h5>
<p>For application with the chapter called <strong>“Application: Build Stage”</strong> (or similar) in <code class="language-plaintext highlighter-rouge">README.md</code>, please follow the instruction explained in the chapter.<br /></p>

<p>For example, in <a href="https://github.com/renesas-rz/rzv_ai_sdk/tree/main/R01_object_detection">Object Detection</a> application, follow the instruction in <a href="https://github.com/renesas-rz/rzv_ai_sdk/tree/main/R01_object_detection#application-build-stage">here</a> to generate the following application binary.<br /></p>
<ul>
  <li>object_detection</li>
</ul>

<p><br /></p>

<h5 id="build-option2">Option 2. Application without instruction.</h5>
<p>For application <strong>without the “Application: Build Stage”</strong>, follow the instruction bellow to build application.</p>
<ol>
  <li>Run (or start) docker container.<br />
 For example, run the following command to start the docker container created in <a href="#step5">Step 5</a><br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start -i rzv2l_ai_sdk_container
</code></pre></div>    </div>
  </li>
  <li>Change the environment variable to use the cross compiler.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>source /opt/poky/3.1.14/environment-setup-aarch64-poky-linux
</code></pre></div>    </div>
  </li>
  <li>Move to the mounted point in docker container.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /drp-ai_tvm/data
</code></pre></div>    </div>
  </li>
  <li>Download the application source code.<br />
Here, we use <a href="https://github.com/Ignitarium-Renesas/RZV2L_AiLibrary/01_Head_count">RZV2L_AiLibrary repository Head Counter application</a> as an example.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/Ignitarium-Renesas/RZV2L_AiLibrary
</code></pre></div>    </div>
  </li>
  <li>Move to the application directory.
    <blockquote>
      <p>Note: The file configuration depends on each application. Please check the file configuration in the repository carefully.<br /></p>
    </blockquote>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd RZV2L_AiLibrary/01_Head_count/Head_count_cam
</code></pre></div>    </div>
  </li>
  <li>Build the application with <code class="language-plaintext highlighter-rouge">make</code> command.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make
</code></pre></div>    </div>
  </li>
  <li>Check that following application is generated in the <code class="language-plaintext highlighter-rouge">RZV2L_AiLibrary/01_Head_count/Head_count_cam/exe</code>.
    <ul>
      <li>head_count_cam_app<br />
<br /></li>
    </ul>
  </li>
  <li>If you would like to build the other applications in <a href="#build-option1">Option 1</a>, please exit and restart the docker container.</li>
</ol>

<p><br /></p>

<h3 id="step7">Step 7: Setup RZ/V2L Evaluation Board Kit</h3>
<p>This section explains how to setup the RZ/V2L Evaluation Board.<br /></p>

<h5 id="serial">1. Install the serial port driver.</h5>
<blockquote>
  <p>Note: Skip to <a href="#bootloader">the next step</a> if you have already installed the serial port driver.<br /></p>
</blockquote>

<p>The serial communication between Windows PC and RZ/V2L Evaluation Board Kit requires following driver.<br />
<a href="https://ftdichip.com/drivers/vcp-drivers/">https://ftdichip.com/drivers/vcp-drivers/</a><br /><br />
1.1. Download the software “Virtual COM port (VCP) driver” from the windows version “setup executable” on the download page and extract it.<br /><br />
1.2. Run the <code class="language-plaintext highlighter-rouge">*.exe</code> file extracted to install the serial port driver.<br /><br />
1.3. Install the terminal emulator, i.e., Tera Term.<br /><br /></p>

<h5 id="bootloder">2. Write the bootloaders to the board.</h5>
<blockquote>
  <p>Note: Skip to <a href="#sd">the next step</a> if you have already written the latest bootloaders to the board.<br /></p>
</blockquote>

<p>2.1. Copy following files in <code class="language-plaintext highlighter-rouge">${WORK}/board_setup/bootloader</code>to your Windows PC.<br /></p>
<ul>
  <li>Flash_Writer_SCIF_RZV2L_SMARC_PMIC_DDR4_2GB_1PCS.mot<br /></li>
  <li>bl2_bp-smarc-rzv2l_pmic.srec<br /></li>
  <li>fip-smarc-rzv2l_pmic.srec<br /></li>
</ul>

<p>2.2. Connect PC and Board via Serial to MicroUSB Cable.<br /></p>

<p>2.3. Change SW11 setting (see the figure below).<br />
    <img src="img/board_bootloader.png" alt="board" width="90%" /><br /><br /></p>

<p>2.4. Press and hold the power button (SW9) for 1 second to turn on the power.<br /></p>

<p>2.5. On Windows PC, open the terminal emulator. <br />
Here, we use Tera Term as an example.<br /></p>

<p>2.6. Select “File” &gt; “New Connection” and select “Serial” port as shown below.<br />
    <img src="img/new_connection.png" alt="board" width="90%" /><br /><br /></p>

<p>2.7. Open the configuration window from the “Setup”&gt;”Terminal” and change the setting as follows.<br /></p>

<table>
    <tr>
      <th>Item</th>
      <th>Value</th>
    </tr>
    <tr>
      <td>New-line</td>
      <td>Receive: Auto</td>
    </tr>
    <tr>
      <td></td>
      <td>Transmit: CR</td>
    </tr>
  </table>
<p><br />
2.8. Open the configuration window from the “Setup”&gt;”Serial port” and change the setting as follows.<br /></p>

<table>
    <tr>
      <th>Item</th>
      <th>Value</th>
    </tr>
    <tr>
      <td>Baud rate</td>
      <td>115200</td>
    </tr>
    <tr>
      <td>Data</td>
      <td>8bit</td>
    </tr>
    <tr>
      <td>Parity</td>
      <td>none</td>
    </tr>
    <tr>
      <td>Stop</td>
      <td>1bit</td>
    </tr>
    <tr>
      <td>Flow control</td>
      <td>none</td>
    </tr>
    <tr>
      <td>Transmit delay</td>
      <td>0msec/char</td>
    </tr>
  </table>

<p><br />
2.9. Press the reset button (SW10) and following message will be displayed on the terminal.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  SCIF Download mode
 (C) Renesas Electronics Corp.
-- Load Program to System RAM ---------------
please send !
</code></pre></div></div>
<p>2.10. Open “File” &gt; “Send file…” and send the Flash Writer file (<code class="language-plaintext highlighter-rouge">*.mot</code>) as a text.<br />
If following message is displayed, the file transfer suceeded.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Flash writer for RZ/V2 Series V1.02 Nov.15,2021
 Product Code : RZ/V2L
&gt;
</code></pre></div></div>
<p>2.11. Enter <code class="language-plaintext highlighter-rouge">XLS2</code> on the terminal to get following messages.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; XLS2
===== Qspi writing of RZ/G2 Board Command =============
Load Program to Spiflash
Writes to any of SPI address.
 Micron : MT25QU512
Program Top Address &amp; Qspi Save Address
===== Please Input Program Top Address ============
  Please Input : H'
</code></pre></div></div>
<p>2.12. Enter <code class="language-plaintext highlighter-rouge">11E00</code>. The log continues.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Please Input : H'11E00
===== Please Input Qspi Save Address ===
  Please Input : H'
</code></pre></div></div>
<p>2.13. Enter <code class="language-plaintext highlighter-rouge">00000</code>. The log continues.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Please Input : H'00000
Work RAM(H'50000000-H'53FFFFFF) Clear....
please send ! ('.' &amp; CR stop load)
</code></pre></div></div>
<p>2.14. After the “please send!” message, <strong>send the <code class="language-plaintext highlighter-rouge">bl2_bp-smarc-rzv2l_pmic.srec</code> file</strong> as a text from the terminal software.<br /><br />
2.15. In case a message to prompt to clear data like below, please enter <code class="language-plaintext highlighter-rouge">y</code>.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SPI Data Clear(H'FF) Check : H'00000000-0000FFFF,Clear OK?(y/n)
</code></pre></div></div>
<p>2.16. Following log will be displayed.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SAVE SPI-FLASH.......
======= Qspi Save Information =================
SpiFlashMemory Stat Address : H'00000000
SpiFlashMemory End Address : H'00009A80
===========================================================
</code></pre></div></div>
<p>2.17. Enter <code class="language-plaintext highlighter-rouge">XLS2</code> on the terminal to get following messages.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; XLS2
===== Qspi writing of RZ/G2 Board Command =============
Load Program to Spiflash
Writes to any of SPI address.
 Micron : MT25QU512
Program Top Address &amp; Qspi Save Address
===== Please Input Program Top Address ============
  Please Input : H'
</code></pre></div></div>
<p>2.18. Enter <code class="language-plaintext highlighter-rouge">00000</code>. The log continues.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Please Input : H'00000
===== Please Input Qspi Save Address ===
  Please Input : H'
</code></pre></div></div>
<p>2.19. Enter <code class="language-plaintext highlighter-rouge">1D200</code>. The log continues.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Please Input : H'1D200
Work RAM(H'50000000-H'53FFFFFF) Clear....
please send ! ('.' &amp; CR stop load)
</code></pre></div></div>
<p>2.20. After the “please send!” message, <strong>send the <code class="language-plaintext highlighter-rouge">fip-smarc-rzv2l_pmic.srec</code> file</strong> as a text from the terminal software.<br /><br />
2.21. In case a message to prompt to clear data like below, please enter <code class="language-plaintext highlighter-rouge">y</code>.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SPI Data Clear(H'FF) Check : H'00000000-0000FFFF,Clear OK?(y/n)
</code></pre></div></div>
<p>2.22. Following log will be displayed.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SAVE SPI-FLASH.......
======= Qspi Save Information =================
SpiFlashMemory Stat Address : H'0001D200
SpiFlashMemory End Address : H'000CC73F
===========================================================
</code></pre></div></div>
<p>2.23. Power-off the board by pressing the power button (SW9) for 2 seconds.</p>

<h5 id="sd">3. Setup the SD card.</h5>
<blockquote>
  <p>Note: Skip to <a href="#step8">the next step</a> if you have already setup the SD card with the latest Linux kernel, Linux device tree file and root filesystem.
<br /></p>
</blockquote>

<p>microSD card contains the Linux kernel and root filesystem to boot-up the board.<br />
You can use Linux PC to format the microSD card and expand the kernel and the root filesystem using USB card reader or other equipment.<br />
<br />
Following three files are necessary, which are placed on each partitions on microSD card.<br />
They are in the <code class="language-plaintext highlighter-rouge">${WORK}/board_setup</code> directory.<br /></p>

<table>
  <tr>
    <th>File</th>
    <th>Description</th>
    <th>microSD card partition</th>
  </tr>
  <tr>
    <th>Image-smarc-rzv2l.bin</th>
    <th>Linux kernel image<br />(The boot program) </th>
    <th>Partition 1</th>
  </tr>
  <tr>
    <th>Image-r9a07g054l2-smarc.dtb </th>
    <th>Linux device tree file<br />(The configuration file for booting) </th>
    <th>Partition 1</th>
  </tr>
  <tr>
    <th>core-image-weston-smarc-rzv2l.tar.bz2</th>
    <th>Root filesystem</th>
    <th>Partition 2</th>
  </tr>
</table>

<p>Follow the instruction below to prepare the microSD card.<br /><br /></p>
<blockquote>
  <p>Note: Here, we use <code class="language-plaintext highlighter-rouge">/dev/sdb</code> as microSD card device name.</p>
</blockquote>

<ol>
  <li>Create the following partitions on microSD card according to <a href="#partition">Create SD card</a>.<br />
    <table>
   <tr>
     <th>Partition Number</th>
     <th>Size</th>
     <th>Format</th>
   </tr>
   <tr>
     <th>1</th>
     <th>500MB (minimum 128MB)</th>
     <th>FAT32</th>
   </tr>
   <tr>
     <th>2</th>
     <th>All remaining</th>
     <th>Ext4</th>
   </tr>
 </table>
  </li>
  <li>Insert the microSD card to Linux PC.<br /></li>
  <li>Check if the two partitions are created successfully by running <code class="language-plaintext highlighter-rouge">df</code> command.<br />
    <blockquote>
      <p>Note: Device name of microSD card, <code class="language-plaintext highlighter-rouge">/dev/sdb</code>, may differ depending on your environment. <br /></p>
    </blockquote>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> df -h
 Filesystem 	Size		Used	Avail	Use %	Mounted on	
 …		…		…	…	…	…
 /dev/sdb1		…		…	…	…	…	
 /dev/sdb2		…		…	…	…	…	
</code></pre></div>    </div>
  </li>
  <li>Run the following commands to setup the partition 1.<br />
    <blockquote>
      <p>Note: Change <code class="language-plaintext highlighter-rouge">/dev/sdb</code>, to your microSD card device name.</p>
    </blockquote>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo mkdir -p /mnt/sd
 sudo mount /dev/sdb1 /mnt/sd
 sudo cp $WORK/board_setup/Image-smarc-rzv2l.bin /mnt/sd
 sudo cp $WORK/board_setup/Image-r9a07g054l2-smarc.dtb /mnt/sd
 sync
 sudo umount /mnt/sd
</code></pre></div>    </div>
  </li>
  <li>Run the following commands to setup the partition 2, which is the root filesystem of the board.<br />
    <blockquote>
      <p>Note: Change <code class="language-plaintext highlighter-rouge">/dev/sdb</code>, to your microSD card device name.</p>
    </blockquote>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo mount /dev/sdb2 /mnt/sd
 sudo tar xfj $WORK/board_setup/core-image-weston-smarc-rzv2l.tar.bz2 -C /mnt/sd
 sudo cp $WORK/ai_sdk_setup/data/libtvm_runtime.so /mnt/sd/usr/lib64
 sync
 sudo umount /mnt/sd
</code></pre></div>    </div>
  </li>
  <li>Eject the microSD card by running the following command and remove the microSD card from Linux PC.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo eject /dev/sdb
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="step8">Step 8: Deploy the application to the Board</h3>
<p>This section explains how to copy the <a href="#step6">application binary</a> to the board.<br />
Users are expected to have finished the instructions in <a href="#sd">Setup the SD card</a>.<br /></p>

<ol>
  <li>
    <p>Insert the microSD card to Linux PC.<br /></p>
  </li>
  <li>Run the following command to mount the partition 2, which contains the root filesystem.<br />
    <blockquote>
      <p>Note: Change <code class="language-plaintext highlighter-rouge">/dev/sdb</code>, to your microSD card device name.</p>
    </blockquote>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo mount /dev/sdb2 /mnt/sd
</code></pre></div>    </div>
  </li>
  <li>Create the application directory on root filesystem.
    <blockquote>
      <p>Note: Directory name <code class="language-plaintext highlighter-rouge">tvm</code> can be determined by user.</p>
    </blockquote>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo mkdir /mnt/sd/home/root/tvm
</code></pre></div>    </div>
  </li>
  <li>
    <p>Copy the necessary files in execution environment.<br /></p>

    <p>There are <strong>two types</strong> of execution environment.<br /></p>

    <h6 id="deploy-option1">Option 1. Application with instruction.</h6>
    <p>For application with the chapter called <strong>“Application: Deploy Stage”</strong> (or similar) in <code class="language-plaintext highlighter-rouge">README.md</code>, please follow the instruction explained in the chapter.<br /></p>

    <p>For example, in <a href="https://github.com/renesas-rz/rzv_ai_sdk/tree/main/R01_object_detection">Object Detection</a> application, follow the instruction in <a href="https://github.com/renesas-rz/rzv_ai_sdk/tree/main/R01_object_detection#application-deploy-stage">here</a> to find files to be copied.<br /></p>

    <p>Use the following command to copy the files to root filesystem.</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo cp $WORK/ai_sdk_setup/data/&lt;Path to target file&gt;/&lt;filename&gt; /mnt/sd/home/root/tvm 
</code></pre></div>    </div>
    <p><br /></p>

    <h6 id="deploy-option2">Option 2. Application without instruction.</h6>
    <p>For application <strong>without the “Application: Deploy Stage”</strong>, copy the whole repository to the root filesystem by running the following command.<br />
 Here, <a href="https://github.com/Ignitarium-Renesas/RZV2L_AiLibrary">RZV2L_AiLibrary repository</a> is used as an example.<br /></p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo cp $WORK/ai_sdk_setup/data/&lt;Path to repository&gt;/RZV2L_AiLibrary /mnt/sd/home/root/tvm"
</code></pre></div>    </div>
  </li>
  <li>Run the following command to sync the data with memory.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sync 
</code></pre></div>    </div>
  </li>
  <li>Run the following command to umount the partition 2.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo umount /mnt/sd
</code></pre></div>    </div>
  </li>
  <li>Eject the microSD card by running the following command and remove the microSD card from Linux PC.<br />
    <blockquote>
      <p>Note: Change <code class="language-plaintext highlighter-rouge">/dev/sdb</code>, to your microSD card device name.</p>
    </blockquote>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo eject /dev/sdb
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="step9">Step 9: Boot RZ/V2L Evaluation Board Kit</h3>
<p>This section explains how to boot the RZ/V2L Evaluation Board Kit.<br />
There are two types of booting options.</p>

<h5 id="boot-option1">Option 1. Boot with Windows PC</h5>
<p><strong>When booting the board for the first time, use this option.</strong><br />
This option uses Windows PC as a serial console.<br /></p>

<p><img src="img/board_boot.png" alt="boot" /><br /></p>

<ol>
  <li>
    <p>Insert the microSD card to the <b>Board</b>.<br /></p>
  </li>
  <li>
    <p>Change the SW11 setting as shown in the right figure.<br /></p>
  </li>
  <li>
    <p>Connect the <b>Board</b> and <b>PC</b> by the USB Serial to Micro USB cable.<br /></p>
  </li>
  <li>
    <p>Connect the <b>Google Coral camera</b> to the <b>Board</b>.<br /></p>
  </li>
  <li>
    <p>Connect the HDMI monitor to the <b>Board</b>.<br /></p>
  </li>
  <li>
    <p>Connect the power cable to the <b>Board</b>.<br /></p>
  </li>
  <li>Press power button for 1 second to turn on the board.<br />
    <blockquote>
      <p>Note: When turning off the board, press the power button for 2 seconds.<br /></p>
    </blockquote>
  </li>
  <li>Open the terminal emulator, i.e., Tera Term, and connect with COMS port.<br />
    <blockquote>
      <p>Note: When using Tera Term, change the configuration as explained in <a href="#bootloader">Write the bootloaders to the board</a>.</p>
    </blockquote>
  </li>
  <li>On the terminal emulator, keep pressing ENTER key and press reset button.<br />
    <blockquote>
      <p>Note: This procedure is required only when the bootloader is updated.</p>
    </blockquote>
    <ol>
      <li>U-boot console will be activated.<br /></li>
      <li>Run the following commands.
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> env default -a
 setenv bootargs 'root=/dev/mmcblk1p2 rootwait'
 setenv bootcmd 'mmc dev 1;fatload mmc 1:1 0x48080000 Image-smarc-rzv2l.bin; fatload mmc 1:1 0x48000000 Image-r9a07g054l2-smarc.dtb; booti 0x48080000 - 0x48000000'
 saveenv
 boot
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>After the boot-up, the login message will be shown on the console.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>smarc-rzv2l login:
</code></pre></div>    </div>
  </li>
  <li>Log-in to the system using the information below.<br />
    <ul>
      <li>user: <code class="language-plaintext highlighter-rouge">root</code></li>
      <li>password: none</li>
    </ul>
  </li>
</ol>

<h5 id="boot-option2">Option 2. Boot on HDMI monitor</h5>
<p>Users can use this option after they set the U-boot environment variables in <a href="#boot-option1">Option 1</a>.
This option does not require PC to control the serial console.<br />
The instruction in the application documentation assumes this booting option.<br /></p>

<p><img src="img/board_boot_2.png" alt="boot" /><br /></p>

<ol>
  <li>
    <p>Insert the microSD card to the <b>Board</b>.<br /></p>
  </li>
  <li>
    <p>Change the SW11 setting as shown in the right figure.<br /></p>
  </li>
  <li>
    <p>Connect the USB mouse and USB keyboard via USB hub.<br /></p>
  </li>
  <li>
    <p>Connect the <b>Google Coral camera</b> to the <b>Board</b>.<br /></p>
  </li>
  <li>
    <p>Connect the HDMI monitor to the <b>Board</b>.<br /></p>
  </li>
  <li>
    <p>Connect the power cable to the <b>Board</b>.<br /></p>
  </li>
  <li>Press power button for 1 second to turn on the board.<br />
    <blockquote>
      <p>Note: When turning off the board, press the power button for 2 seconds.<br /></p>
    </blockquote>
  </li>
  <li>
    <p>After the boot-up, following screen will be displayed on HDMI monitor.<br /></p>

    <p><img src="img/wayland.jpg" alt="wayland" width="90%" /><br /></p>
  </li>
  <li>
    <p>Click the icon at the top-left cornder to open the terminal.<br /></p>

    <p><img src="img/wayland_terminal.jpg" alt="wayland" width="90%" /><br />
<br /><br /></p>
  </li>
</ol>

<h3 id="appendix">Appendix</h3>
<p><br /></p>
<h5 id="partition">A1. Create SD card</h5>
<p>Follow the instruction below to create the microSD card partitions.<br /></p>

<ol>
  <li>Before inserting the microSD card to your Linux PC, open the terinal on Linux PC and run the following command to check the devices without microSD card.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> lsblk
</code></pre></div>    </div>
    <ul>
      <li>Following is the example output.<br />
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
 sda 8:0 0 30.9G 0 disk
 ├─sda1 8:1 0 512M 0 part /boot/efi
 ├─sda2 8:2 0 1K 0 part
 └─sda5 8:5 0 30.3G 0 part /
 sr0 11:0 1 1024M 0 rom
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>Insert the microSD card to your Linux PC and run the following command again.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> lsblk
</code></pre></div>    </div>
  </li>
  <li>Check the output and confirm the name of microSD card device name.<br />
In this case, the microSD card device name is <code class="language-plaintext highlighter-rouge">/dev/sdb</code>.<br />
    <blockquote>
      <p>Note: Be careful not to use the other device <br /></p>
    </blockquote>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
 sda 8:0 0 30.9G 0 disk
 ├─sda1 8:1 0 512M 0 part /boot/efi
 ├─sda2 8:2 0 1K 0 part
 └─sda5 8:5 0 30.3G 0 part /
 sdb 8:16 1 29.7G 0 disk
 └─sdb1 8:17 1 29.7G 0 part
 sr0 11:0 1 1024M 0 rom
</code></pre></div>    </div>
  </li>
  <li>Run the following command to check the automatically mounted microSD card partitions.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> df
</code></pre></div>    </div>
  </li>
  <li>Check the output and find the mount point, which is <code class="language-plaintext highlighter-rouge">/media/user/A8D3-393D</code> in the following example.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Filesystem 1K-blocks Used Available Use% Mounted on
 udev 745652 0 745652 0% /dev
 :
 snip
 :
 /dev/sdb1 511720 4904 506816 1% /media/user/A8D3-393B
</code></pre></div>    </div>
  </li>
  <li>Unmount the automatically mounted partitions.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo umount /media/user/A8D3-393B
</code></pre></div>    </div>
    <ul>
      <li>If there are more than one partitions on microSD card, unmount all partitions.<br /><br /></li>
    </ul>
  </li>
  <li>Run <code class="language-plaintext highlighter-rouge">fdisk</code> command as shown below to change the partition table according to the following table.<br />
    <table>
   <tr>
     <th>Type/Number</th>
     <th>Size</th>
     <th>Filesystem</th>
     <th>Contents</th>
   </tr>
   <tr>
     <th>Primary #1</th>
     <th>500MB (minimum 128MB)</th>
     <th>FAT32</th>
     <th>Linux kernel<br />Device tree</th>
   </tr>
   <tr>
     <th>Primary #2</th>
     <th>All remaining</th>
     <th>Ext4</th>
     <th>Root filesystem</th>
   </tr>
 </table>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo fdisk /dev/sdb
</code></pre></div>    </div>

    <ul>
      <li>Following log will be shown. <br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Welcome to fdisk (util-linux 2.34).
 Changes will remain in memory only, until you decide to write them.
 Be careful before using the write command.

 Command (m for help):
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">o</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Created a new DOS disklabel with disk identifier 0x6b6aac6e.
    
 Command (m for help):
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">n</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Partition type
 p primary (0 primary, 0 extended, 4 free)
 e extended (container for logical partitions)
 Select (default p): 
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">p</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Partition number (1-4, default 1): 
</code></pre></div>    </div>
    <ul>
      <li>Press ENTER key. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> First sector (2048-62333951, default 2048): 
</code></pre></div>    </div>
    <ul>
      <li>Press ENTER key. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-62333951, 
 default 62333951): 
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">+500M</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Created a new partition 1 of type 'Linux' and of size 500 MiB.
 Partition #1 contains a vfat signature.
    
 Do you want to remove the signature? [Y]es/[N]o: 
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">Y</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> The signature will be removed by a write command.
    
 Command (m for help): 
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">n</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Partition type
 p primary (1 primary, 0 extended, 3 free)
 e extended (container for logical partitions)
 Select (default p): 
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">p</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Partition number (2-4, default 2): 
</code></pre></div>    </div>
    <ul>
      <li>Press ENTER key. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> First sector (1026048-62333951, default 1026048): 
</code></pre></div>    </div>
    <ul>
      <li>Press ENTER key. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Last sector, +/-sectors or +/-size{K,M,G,T,P} (1026048-62333951, 
 default 62333951): 
</code></pre></div>    </div>
    <ul>
      <li>Press ENTER key. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Created a new partition 2 of type 'Linux' and of size 29.2 GiB.

 Command (m for help): 
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">p</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Disk /dev/sdb: 29.74 GiB, 31914983424 bytes, 62333952 sectors
 Disk model: Transcend
 Units: sectors of 1 * 512 = 512 bytes
 Sector size (logical/physical): 512 bytes / 512 bytes
 I/O size (minimum/optimal): 512 bytes / 512 bytes  
 Disklabel type: dos
 Disk identifier: 0x6b6aac6e
    
 Device Boot Start End Sectors Size Id Type
 /dev/sdb1 2048 1026047 1024000 500M 83 Linux
 /dev/sdb2 1026048 62333951 61307904 29.2G 83 Linux
    
 Filesystem/RAID signature on partition 1 will be wiped.
    
 Command (m for help): 
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">t</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Partition number (1,2, default 2):
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">1</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Hex code (type L to list all codes):
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">b</code> to console. The log continues.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Changed type of partition 'Linux' to 'W95 FAT32'.
    
 Command (m for help): 
</code></pre></div>    </div>
    <ul>
      <li>Type <code class="language-plaintext highlighter-rouge">w</code> to console. The <code class="language-plaintext highlighter-rouge">fdisk</code> interface will end.<br /></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> The partition table has been altered.
 Syncing disks.
</code></pre></div>    </div>
  </li>
  <li>Check the partition table with the command below.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> partprobe
 sudo fdisk -l /dev/sdb
</code></pre></div>    </div>
    <ul>
      <li>Output would be as follows.<br />
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Disk /dev/sdb: 29.74 GiB, 31914983424 bytes, 62333952 sectors
 Disk model: Maker name etc.
 Units: sectors of 1 * 512 = 512 bytes
 Sector size (logical/physical): 512 bytes / 512 bytes
 I/O size (minimum/optimal): 512 bytes / 512 bytes
 Disklabel type: dos
 Disk identifier: 0x6b6aac6e
 Device Boot Start End Sectors Size Id Type
 /dev/sdb1 2048 1026047 1024000 500M b W95 FAT32
 /dev/sdb2 1026048 62333951 61307904 29.2G 83 Linux
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>Run the command below to format and mount the partitions 1.<br />
    <blockquote>
      <p>Note: If the partitions were automatically mounted after the step 6, please unmount them again.<br /></p>
    </blockquote>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo mkfs.vfat -v -c -F 32 /dev/sdb1
</code></pre></div>    </div>
    <ul>
      <li>Following log will be shown.<br />
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> mkfs.fat 4.1 (2017-01-24)
 /dev/sdb1 has 64 heads and 32 sectors per track,
 hidden sectors 0x0800;
 logical sector size is 512,
 using 0xf8 media descriptor, with 1024000 sectors;
 drive number 0x80;
 filesystem has 2 32-bit FATs and 8 sectors per cluster.
 FAT size is 1000 sectors, and provides 127746 clusters.
 There are 32 reserved sectors.
 Volume ID is a299e6a6, no volume label.
 Searching for bad blocks 16848... 34256... 51152... 68304... 85072... 10209
 6... 119376... 136528... 153552... 170576... 187472... 204624... 221648... 238
 928... 256208... 273744... 290768... 308048... 325328... 342480... 359504... 3
 76656... 393680... 410576... 427216... 444624... 462032... 479184... 495952...
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>Run the command below to format and mount the partitions 2.<br />
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo mkfs.ext4 -L rootfs /dev/sdb2
</code></pre></div>    </div>
    <ul>
      <li>Following log will be shown.<br />
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mke2fs 1.45.5 (07-Jan-2020)
Creating filesystem with 7663488 4k blocks and 1916928 inodes
Filesystem UUID: 63dddb3f-e268-4554-af51-1c6e1928d76c
Superblock backups stored on blocks:
32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
4096000
Allocating group tables: done
Writing inode tables: done
Creating journal (32768 blocks): done
Writing superblocks and filesystem accounting information: done
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>Eject the microSD card and insert it again to remount the partitions.<br /></li>
</ol>

<p>Refer to the <a href="#sd">Setup the SD card</a> to write files to the microSD card.
<br /><br /></p>


      </section>
      <footer>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
  </body>
</html>
